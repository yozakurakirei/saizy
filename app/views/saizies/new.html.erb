<h2>催事情報入力ページ</h2> 

<!-- 確認画面を実装したい -->
<ul class="nav">
  <li><%= link_to "やり方", 'https://web-begginer-log.com/rails-confirm/', target: :_blank, rel: "noopener noreferrer" %></li>
  <li>入力</li>
  <li>確認</li>
  <li>完了</li>
</ul>

<div class="l_form">
  <div class="l_form_box">
    <%= form_with(model: @saizy, local: true) do |f| %>
      <div class="l_form_input">
        <%= f.label :title, class: "label_name" %>
        <%= f.text_field :title, class: "input_area", placeholder: "タイトル" %>
      </div>
      <div class="l_form_input">
        <%= f.file_field :images, id: "images", multiple: true %>
      </div>
      <div class="l_form_input">
        <%= f.label :name, class: "label_name" %>
        <%= f.text_field :name, class: "input_area", placeholder: "ブランド名" %>
      </div>
      
      <div class="l_form_input">
        <%= f.label :place, class: "label_name" %>
        <%= f.text_field :place, class: "input_area", placeholder: "出店場所" %>
      </div>
      <div class="l_form_input">
        <%= f.label :open, class: "label_name" %>
        <%= f.time_field :open, class: "input_area", placeholder: "開店時間" %>
      </div>
      <div class="l_form_input">
        <%= f.label :close, class: "label_name" %>
        <%= f.time_field :close, class: "input_area", placeholder: "閉店時間" %>
      </div>
      <div class="l_form_input">
        <%= f.label :start, class: "label_name" %>
        <%= f.date_field :start, class: "input_area", placeholder: "開始日" %>
      </div>
      <div class="l_form_input">
        <%= f.label :finish, class: "label_name" %>
        <%= f.date_field :finish, class: "input_area", placeholder: "終了日" %>
      </div>
      <div class="l_form_input">
        <%= f.label :content, class: "label_name" %>
        <%= f.text_field :content, class: "input_area", placeholder: "おすすめポイント" %>
      </div>
      <div class="form-group">
        <%= f.label :status %><br>
        <%= f.select :status, [["下書き", "draft"], ["公開する", "published"], ["出店終了", "deleted"]],
                              id: "status", class: "form-control" %>
      </div>
      <div class="l_form_form_button">
        <%= f.submit "投稿する", class: "form_button" %>  
      </div>
    <% end %>
  </div>
</div>

<script type="text/javascript">
  $("#saizy_images").bind("change", function() {
    const size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert("5MBを超える画像は登録できません");
    }
    $("#saizy_images").val("");
  })
</script>